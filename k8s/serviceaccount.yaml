apiVersion: v1
kind: ServiceAccount
metadata:
  name: gke-fastapi-prod-sa
  namespace: gke-fastapi-prod
  annotations:
    # 4â€“5 lines explanation:
    # This annotation enables Workload Identity.
    # K8s SA is mapped to a Google SA (GSA) at runtime.
    # The pod receives GCP identity without JSON keys.
    # Least-privilege is enforced via IAM on the GSA.
    iam.gke.io/gcp-service-account: gke-fastapi-prod-gsa@YOUR_PROJECT_ID.iam.gserviceaccount.com
